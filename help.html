<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Help: Trip Budget Calculator</title>
<meta name="description" content="Расчет бюджета похода">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="dcterms.rightsHolder" content="Dmitry Andrievsky, ad@dimmik.org, Jul 2015">
<script type="text/javascript" src="budget.js">

</script>

</head>
<body>
<a name="top"/>
<h1>Калькулятор для подсчета бюджета.</h1>
<b><a href="budget.html">к калькулятору</a></b><br/>

<ol>
    <li><a href="#disclaimer">Disclaimer</a>
    <li><a href="#what">Что это такое</a>
    <li><a href="#whyNoExcel">Почему не эксель</a>
    <li><a href="#scenario">Сценарий использования</a>
    <li><a href="#quickStart">Быстрый старт</a>
    <li><a href="#howto">Как использовать</a>
</ol>

<a name="disclaimer"/>
<h2>Disclaimer</h2>
<p>
Этот калькулятор предназначен для узкого круга и в нем, конечно, есть масса ограничений и, возможно, дефектов.
</p><p>
Основное ограничение - если необходимы агрегированные значения по нескольким аспектам похода (Как в <a href="#scenario">этом</a> сценарии - отдельно по машине, общему, мясу и овощам), названия семей в каждом из аспектов должны быть в точности такие же как и в других.
</p><p>
Есть и другие тонкости, также возможны ошибки и пр. - просьба о них писать на <a href="mailto:tripbudget@dimmik.org">tripbudget@dimmik.org</a>
</p>
<a  name="what"/>
<h2>Что это такое.</h2>
<a href="#top">top</a>
<p>В походах (разных: и пеших, и водных, и автомобильных) есть много интересных аспектов. Снаряжение, план, карта.
</p><p>
И один из таких аспектов - чтобы все участники похода внесли равный и справедливый финансовый вклад.
</p><p>
Этот аспект можно реализовывать по-разному. Можно скидываться в общий бюджет и потом тратить его. Можно распределить расходы так, чтобы у всех было примерно поровну.
Можно даже чтобы каждый покупал на себя и употреблял то что купил.
</p><p>
Мы делаем просто: каждый берет с собой определенную сумму денег и расплачивается тот кто ближе, и у кого есть деньги.
После похода, перед тем как разойтись по домам, подсчитываем кто сколько потратил, сколько приходится в среднем на человека и кто кому сколько должен.
</p><p>

Этот калькулятор предназначен для облегчения подсчетов кто сколько кому должен в конце похода.
На мобильных устройствах в любом более-менее современном браузере. Проверено в Chrome и Opera на Android.
</p>

<a  name="whyNoExcel"/>
<h2>Почему не эксель?</h2>
<a href="#top">top</a>
<p>
В мобильной версии экселя довольно-таки маленькие контролы, сложно попадать пальцами после двух недель на воде.
Кроме того, сценарий использования калькулятора (ниже) чуть сложнее чем простая экселевская таблица.
</p>

<a  name="scenario"/>
<h2>Сценарий использования.</h2>
<p>
Представьте себе водный поход.
</p><p>

Идут три семьи, Ивановы, Петровы и Сидоровы.
</p><p>
При этом:
</p><p>
Ивановы: двое взрослых, один большой ребенок (14 лет, ест как взрослый, но не ест овощи), один маленький ребенок (7 лет, ест половинную порцию). Бюджет общий.
    <br/>3.5 человека в "общем", 3.5 человека в "мясе", 3 человека в "овощах", 2 человека в "машине"
</p><p>
    
Петровы: Отец и сын, отец - вегетарианец, не ест мяса; сын - 12 лет, ест как взрослый
    <br/>2 человека в "общем", 1.5 человека в "мясе", 2 человека в "овощах", 1 человек в "машине"
</p><p>

Сидоровы: Двое взрослых, Иван ест все, Мария на диете и ест половину мясного, зато ест много овощей (полторы порции). И бюджет у них раздельный.
    <br/>Иван: 1 человек во всех категориях
    <br/>Мария: 1 человек в "общем", 0.5 человека в "мясе", 1.5 человека в "овощах", 1 человек в "машине"
</p><p>

На сходке перед походом решили что дети (хоть большие, хоть маленькие) не включаются в оплату машины от поезда до места сбора лодок.
</p><p>
<ul>
<li>Иванов потратил 25000 на общее (крупы, сыр, зелень, карты, хлеб), 5000 на овощи и 15000 отдельно на колбасу и тушонку.
<li>Петров оплатил 15000 за машину туда
<li>Сидоров Иван доплатил 5000 за машину туда и на 5000 купил вареной колбасы
<li>Сидорова Мария оплатила 7000 за машину обратно и 2250 на общее (головоломки и книжки для всех, чтобы скучно не было).
</ul>
<p>
Кто кому сколько должен, если учитывать вегетарианцев, тех кто не ест овощи, тех кто ест половинную порцию и что дети не платят за машину?
</p>

<a  name="quickStart"/>

<h2>Быстрый старт</h2>
<a href="#top">top</a>
<ol>
<li><font color=red>(Острожно, это сотрет существующие данные!)</font>
Нажмите <a href="#" onClick="if (confirm('are you sure?')) {store('lp',document.getElementById('json').innerHTML); window.location.href = 'budgetAggregate.html';} return false;">сюда</a> чтобы заполнить калькулятор содержимым из сценария выше и перейти на страницу с общей суммой.
<li>На страничке с общей суммой будет сверху ссылка на эту страницу и на <b>Edit</b>, где можно отредактировать кто сколько потратил.
</ol>

<a name="howto">
<a href="#top">top</a>
<h2>Как использовать</h2>
<ol>
<li>Добавить поход
<li>Клонировать и удалить поход
<li>Добавить семью
<li>Отредактировать данные семьи
<li>Посмотреть общие итоги
<li>Дополнительно: Export, Import
</ol>


<div style="display: none;" id="json">
{
    "trips": [
        {
            "date": "2015-08-31T14:28:15.035Z",
            "name": "Поход общее",
            "checked": 1,
            "families": [
                {
                    "name": "Ивановы со старшим и младшим",
                    "peoplesNum": "3.5",
                    "expenses": "25000",
                    "paid": 0
                },
                {
                    "name": "Петровы",
                    "peoplesNum": "2",
                    "expenses": "0",
                    "paid": 0
                },
                {
                    "name": "Сидоров Иван",
                    "peoplesNum": "1",
                    "expenses": "0",
                    "paid": 0
                },
                {
                    "name": "Сидорова Мария",
                    "peoplesNum": "1",
                    "expenses": "2250",
                    "paid": 0
                }
            ]
        },
        {
            "date": "2015-08-31T14:36:27.994Z",
            "name": "Поход мясо",
            "checked": 1,
            "families": [
                {
                    "name": "Ивановы со старшим и младшим",
                    "peoplesNum": "3.5",
                    "expenses": "15000",
                    "paid": 0
                },
                {
                    "name": "Петровы",
                    "peoplesNum": "1.5",
                    "expenses": "0",
                    "paid": 0
                },
                {
                    "name": "Сидоров Иван",
                    "peoplesNum": "1",
                    "expenses": "5000",
                    "paid": 0
                },
                {
                    "name": "Сидорова Мария",
                    "peoplesNum": "0.5",
                    "expenses": "0",
                    "paid": 0
                }
            ]
        },
        {
            "date": "2015-08-31T14:38:42.067Z",
            "name": "Поход овощи",
            "checked": 1,
            "families": [
                {
                    "name": "Ивановы со старшим и младшим",
                    "peoplesNum": "3",
                    "expenses": "5000",
                    "paid": 0
                },
                {
                    "name": "Петровы",
                    "peoplesNum": "2",
                    "expenses": "0",
                    "paid": 0
                },
                {
                    "name": "Сидоров Иван",
                    "peoplesNum": "1",
                    "expenses": "0",
                    "paid": 0
                },
                {
                    "name": "Сидорова Мария",
                    "peoplesNum": "1.5",
                    "expenses": "0",
                    "paid": 0
                }
            ]
        },
        {
            "date": "2015-08-31T14:40:40.418Z",
            "name": "Поход машина",
            "checked": 1,
            "families": [
                {
                    "name": "Ивановы со старшим и младшим",
                    "peoplesNum": "2",
                    "expenses": "0",
                    "paid": 0
                },
                {
                    "name": "Петровы",
                    "peoplesNum": "1",
                    "expenses": "15000 машина туда",
                    "paid": 0
                },
                {
                    "name": "Сидоров Иван",
                    "peoplesNum": "1",
                    "expenses": "5000 машина туда",
                    "paid": 0
                },
                {
                    "name": "Сидорова Мария",
                    "peoplesNum": "1",
                    "expenses": "7000 машина обратно",
                    "paid": 0
                }
            ]
        }
    ],
    "selected": "3"
}
</div>
</body>
</html>

